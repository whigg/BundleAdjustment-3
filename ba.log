2019.09.23

雅克比矩阵的稀疏性：大致是这样的形态：

×××
×××           
×× ×
××   ×
××    ×
××     ×
××      ×
××        ×
×××××××××××

即左边是相机参数，较稠密，而3D点的参数则很稀疏，可以利用Jac的稀疏特性来考虑构建J'*J，减小内存的
使用量。

2019.09.24

根据sba-toms.pdf中的讲解，Jacobian矩阵的稀疏性具体应该是这样的：
[A11      |B11
    A12   |B12
       A13|B13
 A21      |   B21
    A22   |   B22
       A23|   B23
 A31      |      B31
    A32   |      B32
       A33|      B33
 A41      |         B41
    A42   |         B42
       A43|         B43]
这是在四个点映射到三个相机平面上的情况
分块矩阵，左侧是相机参数，右侧是3D点的参数。

在这种情况下利用Jacobian矩阵的稀疏特性，按照上述分块方式，可以快速求出J'*J：
[U1    0    0   W11 W21 W31 W41
  0     U2   0   W12 W22 W32 W42
  0     0    U3  W13 W23 W33 W43
  W11' W12' W13' V1   0   0   0
  W21' W22' W23' 0    V2  0   0
  W31' W32' W33' 0    0   V3  0
  W41' W42' W43' 0    0   0   V4]

其中Ui = for each i, Aij'*Aij
    Vi = for each i, Bij'*Bij
    Wij= for each i,j,  Aij'*Bij

下一步要考虑的问题是：如何高效地分块，能否从读取的结构化文件中快速求出Ui，Vi，Wij

2019.09.27

令
H =
[U1    0    0   W11 W21 W31 W41
  0    U2   0   W12 W22 W32 W42
  0    0    U3  W13 W23 W33 W43
  W11' W12' W13' V1   0   0   0
  W21' W22' W23' 0    V2  0   0
  W31' W32' W33' 0    0   V3  0
  W41' W42' W43' 0    0   0   V4] 

U = diag(U1, U2, U3)
V = diat(V1, V2, V3, V4)
W = [W11, W21, W31, W41
     W12, W22, W32, W42
     W13, W23, W33, W43]

则H = [U  W
       W' V]
由方程 [U  W  *[c     [b1
       W' V]   p]  =  b2] 可以得到：
U*c + W*p = b1;
V*p + W'*c = b2;

c和p是相互依赖的，不易解出， 考虑将H变换成上三角阵（行变换不改变方程的解）
左乘 [I ,-W*V^(-1)
     0 ,   I]
[U - W * v^{-1}* W'   0    [c     [b1 - W * V^{-1}*b2
     W'               V*]   p]  =         b2]

转换成 

(U - W * V^{-1} * W') *c = b1 - W * V1^{-1} * b2

V * p = b2 - W'*c

